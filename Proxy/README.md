#[Name]
##Proxy

#[Context]
公司有一套文書處理系統，在一篇文件裡可擺上各種圖形物件，其中有些圖形物件可能很耗資源，可是文件又不能讓人枯等好幾分鐘才開的起來；所以希望在開啟檔案時，不要一次就將這些耗資源的物件全部建立起來 畢竟並不是所有物件都得同時全部顯現在螢幕上。

#[Problem]
你如何組織類別與物件以產生更大的結構?

#[Force]
* 你有一個功能已經實作完成的物件。
* 因為一些非功能面需求，例如減少記憶體使用、增加操作性能，可想要控制物件的產生、初始化、存取控制等cross-cutting concerns。如果直接修改原本的物件來加入這些控制將會違反基本的物件導向設計原則。
* 為了達到資訊隱藏，物件的客戶端應該不需要知道物件的內部實作。因此，不管物件是因為需要而及時被產生，或是物件是否位在本地端或是遠端這類的問題，客戶端應該不需要知道。
#[Solution]
用另一個物件，即所謂的Proxy代表真正的影像。它表現得和真的影像一樣，但會在需要用到時才真正具現出所代表的影像內容。影像代理者ImageProxy只有在文書編輯器要求它Draw自己時，才會真正建立出影像Image；以後它仍會將訊息轉遞給影像去處理，所以建立的影像後仍須持有一個reference指向Image實體。

#[Resulting Content]
* 遠端代理者可隱滿「物件位於不同定址空間」一事。
* 虛擬代理者可以做些最佳化措施，像是需要時才建物件。
* 設限代理者和智慧型指涉者都可在存取物件時做些額外的家務事。


***
#[Workshop]
