#[Name]
##Visitor

#[Context]
目前已經有一套大型的地圖平台，每個地圖節點(Map Node)都能代表地圖上的一個位置所代表的區域，例如：工業區、住宅區、商業區等。每個區域能設定的建築內容不同。這是套完整的地圖平台
後來公司來了一個新需求，需要將這些地圖資訊匯出為XML格式，供其他系統匯入使用，但目前這套地圖資訊已經非常完整，不想因為需做匯出的功能而對所有的地圖節點做修改

#[Problem]
要如何增加新的匯出功能，又不修修改已經完成的節點?

#[Force]
* 如果物件結構含有許多介面各異的類別，希望能依據物件的具象類別來執行對應的動作時。
* 需要對整個物件結構體系執行各種不相干的操作 又不希望將操作全部塞入這些類別裡。
* 當物件結構的類別不常變動，但施於其上的操作卻常有增減時。

#[Solution]
使用Visitor模式的客戶碼，必預先建立一個ConcreteVisitor物件，再於巡訪物件結構的過程中，將這個Visitor物件餵給每一個遇到的Element。
當Element被巡訪到時，會呼叫Visitor的對應操作；如果有必要，也會把自己例入參數送過去 讓Visitor藉以存取自己的內容。

#[Resulting Content]
* 容易增加新操作
* 每一種Visitor都將相關操作集中起來，將無關的摒除在外
* 難以增加新的ConcreteElement類別。
* 處理不同的類別階層。

#[Comapre]

#[Sample in JAVA]

***
#[Workshop]
